<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>PreRequisite Dashboard</title>
        <meta name="description" content="A dashboard on student profiles of your module">

         <!-- Fontfaces CSS-->
        <link href="css/font-face.css" rel="stylesheet" media="all">
        <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
        <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
        <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
        <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
        <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
        <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
        <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
        <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
        <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
        <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
        <link href="css/theme.css" rel="stylesheet" media="all">
    </head>
    
    <body>
        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                            <li>
                                <a href="PreRequisite.html">
                                    <i class="fas fa-table"></i>Class Profile</a>
                            </li>

                            <li class="active has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-tachometer-alt"></i>Analysis</a>
                                <ul class="list-unstyled navbar__sub-list js-sub-list">
                                    <li>
                                        <a href="consolidation.html">Academic scores</a>
                                    </li>
                                    <li>
                                        <a href="tutorial.html">Tutorial attendance</a>
                                    </li>
                                    <li>
                                        <a href="trend.html">Top Skills Demanded</a>
                                    </li>   
                                </ul>
                            </li>

                            <li>
                                <a href="groupings.html">
                                    <i class="fas fa-users"></i>Groupings</a>
                            </li>
                            <li>
                                <a href="License.html">
                                    <i class="fas fa-map"></i>Credits</a>
                            </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

            <!-- HEADER DESKTOP-->
    <div id="groupingsApp">
    <header class="header-desktop">
        <div class="section__content section__content--p30">
                <div class="header-wrap"></div>
        </div>
    </header>
    </div>
    <!-- HEADER DESKTOP-->

    
        <div class="page-container">
            <div class="main-content">
                <div class="section__content section__content--p30"> 
    <div class = "row">
        <div class="col-md-12" style = "padding-bottom:20px;margin-bottom:20px">
                <h1 class = "title-0"> CLASS PROFILE </h1>
                <button type="button" class="btn btn-secondary mb-1" data-toggle="modal" data-target="#smallmodal">What's this?</button>
        </div>
    </div>  
<!--colspan6-->
    <div id="app">
        <div class = 'row'>
            <div class = 'col-lg-6'>
                <div v-if="PreRequisite.Major">
                    <div class = 'au-card recent-report'>
                            <div class = "chart-info">
                                <h3 class = 'title-2 tm-b-5'> Most Popular {{ PreRequisite.Major.title }}</h3>
                                <button type="button" class="btn btn-secondary mb-1" data-toggle="modal" data-target="#mediumModal">More details</button>  
                            </div>
                            <column-chart :data = "PreRequisite.Major.data" :download='true'  xtitle="Major" ytitle="# of students"></column-chart>
                            <router-link to = "/major">See more (Scroll to the bottom)</router-link>
                    </div>
                </div>
            </div>
    <!--colspan6-->
            <div class = "col-lg-6">
                <div v-if="PreRequisite.Year">
                    <div class = 'au-card recent-report'>
                            <div class = "chart-info">
                                <h3 class = 'title-2 tm-b-5'>{{ PreRequisite.Year.title }}</h3>
                            </div>
                            <column-chart :data = "PreRequisite.Year.data" :max = "300" :download='true'  xtitle="Year" ytitle="# of students"></column-chart>
                    </div>
                </div> 
            </div>
        </div>
    <!--colspan12 -->
        <div class = 'row'>
            <div class = 'col-lg-12'>
                <div v-if="PreRequisite.PrevGrade">
                    <div class = 'au-card recent-report'>
                        <div class = "chart-info">
                            <h3 class = 'title-2 tm-b-5'>{{ PreRequisite.PrevGrade.title }}</h3>
                            <button type="button" class="btn btn-secondary mb-1" data-toggle="modal" data-target="#largeModal">
                                            Learn more</button>
                        </div>
                        <line-chart :data = "PreRequisite.PrevGrade.data" :min = "50" :download='true' xtitle="CAP" ytitle="# of students"></line-chart>
                    </div>
                </div>
            </div>
        </div>
    
    <!--colspan12 -->
        <div class = 'row'>
            <div class = 'col-lg-12'>
                <div v-if="PreRequisite.Skill">
                    <div class = 'au-card recent-report'>
                        <div class = "chart-info"><h3 class = 'title-2 tm-b-5'>{{ PreRequisite.Skill.title }}</h3></div>
                        <column-chart :data = "PreRequisite.Skill.data" :max = "600" :download='true' ytitle="# of students"></column-chart>
                    </div>
                </div>
            </div>
        </div>
        
    <!-- colspan 12 Major extension -->
        <div class = 'row'>
            <div class = 'col-lg-12'>
                <div v-if = "PreRequisite.Major && currentRoute === '/major'"> 
                    <div class = 'au-card recent-report'>
                        <div class = "chart-info">
                            <h3> Full list of major distribution </h3>
                            <i>Sortable and more friendly view of major distribution, especially for a very diluted class population</i>
                        </div>
                        <template>
                            <b-table striped hover :items="PreRequisite.Major.data" :fields="fields"></b-table>
                        </template>
                        <router-link to = "/"> Collapse </router-link>
                    </div> 
                </div> 
            </div>
        </div>
    <!-- end of extension -->
    </div> <!--forvue -->

    </div> <!--forstyle-->
        
        <!-- modal medium -->
            <div class="modal fade" id="mediumModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="mediumModalLabel">Abbreviations of Undergraduate Major</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                                <table class="table table-borderless table-striped table-earning">
                                <thead>
                                    <tr>
                                        <th>Abbreviation</th>
                                        <th>Full major name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>BA</td>
                                        <td>Business Administration</td>
                                    </tr>
                                    
                                    <tr>
                                        <td>BZA</td>
                                        <td>Business Analytics</td>
                                    </tr>
                                    
                                    <tr>
                                        <td>CE</td>
                                        <td>Civil Engineering</td>
                                    </tr>
                                    
                                    <tr>
                                        <td>CEG</td>
                                        <td>Computer Enginerring</td>
                                    </tr>
                                    <tr>
                                        <td>CS</td>
                                        <td>Computer Science</td>
                                    </tr>
                                    <tr>
                                        <td>EEE</td>
                                        <td>Electrical Engineering</td>
                                    </tr>
                                    <tr>
                                        <td>IS</td>
                                        <td>Information System</td>
                                    </tr>
                                    <tr>
                                        <td>ISC</td>
                                        <td>Information Security</td>
                                    </tr>
                                    <tr>
                                        <td>ISE</td>
                                        <td>Industrial and System Engineering</td>
                                    </tr>
                                </tbody>
                            
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">OK I got it</button>
                        </div>
                    </div>
                </div>
            </div>
        <!-- end modal medium -->
        
        <!-- modal small -->
            <div class="modal fade" id="smallmodal" tabindex="-1" role="dialog" aria-labelledby="smallmodalLabel" aria-hidden="true">
                <div class="modal-dialog modal-sm" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="smallmodalLabel">Dashboard on student profiles</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p> This dashboard showcases the basic profiles of your students in this module this year. The profiling includes their years of study, majors, grades from prerequisite modules (if available) and skills learned from all of their prerequisite modules.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">OK I got it</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end modal small -->
        
        <!-- modal large -->
            <div class="modal fade" id="largeModal" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="largeModalLabel">Suggested distribution of CAP and grade conversion</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                                <table class="table table-borderless table-striped table-earning">
                                <thead>
                                    <tr>
                                        <th>CAP</th>
                                        <th>Grade</th>
                                        <th>Distribution</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>5.0</td>
                                        <td>A+/A</td>
                                        <td>Not more than 25%</td>
                                    </tr>
                                    <tr>
                                        <td>4.5</td>
                                        <td>A-</td>
                                        <td>Not more than 25%</td>
                                    </tr>
                                    <tr>
                                        <td>4.0</td>
                                        <td>B+</td>
                                        <td>Not more than 40%</td>
                                    </tr>
                                    <tr>
                                        <td>3.5</td>
                                        <td>B</td>
                                        <td>Not more than 40%</td>
                                    </tr>
                                    <tr>
                                        <td>3.0</td>
                                        <td>B-</td>
                                        <td>Not more than 40%</td>
                                    </tr>
                                    <tr>
                                        <td>2.5</td>
                                        <td>C+</td>
                                        <td>About 30%</td>
                                    </tr>
                                    <tr>
                                        <td>2.0</td>
                                        <td>C</td>
                                        <td>About 30%</td>
                                    </tr>
                                    <tr>
                                        <td>1.5</td>
                                        <td>D+</td>
                                        <td>Not more than 5%</td>
                                    </tr>
                                    <tr>
                                        <td>1.0</td>
                                        <td>D</td>
                                        <td>Not more than 5%</td>
                                    </tr>
                                    <tr>
                                        <td>0</td>
                                        <td>F</td>
                                        <td>Not more than 5%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end modal large -->
        
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/chart.js@2.7.2/dist/Chart.bundle.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://unpkg.com/vue-chartkick@0.4.0"></script>
    <script src="https://gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <script src="https://unpkg.com/vuefire/dist/vuefire.js"></script>
    <!--for Bootstrap Vue JS table --> 
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS -->
    <script src="vendor/slick/slick.min.js"></script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js"></script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js"></script>
    <!-- Main JS-->
    <script src="js/main.js"></script>
    
    <script>
        const temp = { template: '<div>TEMP</div>' }

        const routes = [
            { path: '/major', component: temp},
            { path: '/', component: temp},
        ]
        
        const router = new VueRouter({
            routes 
        })
        
        var config = {
            databaseURL: 'https://dataforgiang.firebaseio.com/' //put in your database URL here
        }
        
        firebase.initializeApp(config)
        var db = firebase.database()
        
        new Vue ({
            el: '#app',
            router,
            data: {
                fields:[
                    {
                        key: '0',
                        label: "Major",
                        sortable: true
                    },
                    {
                        key: '1',
                        label: "Number of students",
                        sortable: true
                    },
                ]
            },
            firebase: {
                //bind a variable called PreRequisite to the database
                PreRequisite: {
                    source: db.ref('PreRequisite'),
                    asObject: true
                },
            },
            computed: {
                currentRoute () {
                    return this.$route.path
                }         
            }  
        })
    </script>    
    </body>
</html>